{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{Box,Typography,Button,Grid,CircularProgress}from'@mui/material';import PersonIcon from'@mui/icons-material/Person';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const seventiesColors=['#ff9800',// arancione\n'#ffb300',// giallo caldo\n'#795548',// marrone\n'#fff8e1',// crema\n'#d84315'// rosso mattone\n];function StudentArchive(){const[students,setStudents]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{axios.get('http://192.168.1.8:5050/api/students',{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}}).then(res=>setStudents(res.data)).finally(()=>setLoading(false));},[]);const getLessons=student=>student&&student.tesserini&&Array.isArray(student.tesserini)&&student.tesserini.length>0&&Array.isArray(student.tesserini[student.tesserini.length-1].lessons)?student.tesserini[student.tesserini.length-1].lessons:[];return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',bgcolor:seventiesColors[3],p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",align:\"center\",sx:{fontFamily:'Impact, Oswald, Arial, sans-serif',color:seventiesColors[0],mb:4,letterSpacing:2,textShadow:'0 2px 8px #79554888'},children:\"Archivio Studenti\"}),loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:8},children:/*#__PURE__*/_jsx(CircularProgress,{color:\"warning\"})}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,justifyContent:\"center\",children:students.map((student,idx)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{bgcolor:seventiesColors[idx%seventiesColors.length],borderRadius:6,boxShadow:'0 8px 32px #79554855',p:3,display:'flex',flexDirection:'column',alignItems:'center',border:'4px solid #fff8e1',minHeight:220,position:'relative',transition:'transform 0.2s','&:hover':{transform:'scale(1.04) rotate(-2deg)',boxShadow:'0 16px 48px #d8431555'}},children:[/*#__PURE__*/_jsx(PersonIcon,{sx:{fontSize:48,color:'#fff8e1',mb:1,textShadow:'0 2px 8px #d8431588'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{fontFamily:'Oswald, Impact, Arial, sans-serif',fontWeight:900,color:'#fff8e1',textShadow:'0 2px 8px #222b',mb:1,letterSpacing:2,textTransform:'uppercase'},children:student.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{color:seventiesColors[3],mb:1,fontWeight:700,fontFamily:'monospace'},children:student.telefono}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#fff8e1',mb:2,fontWeight:700},children:[\"Lezioni effettuate: \",getLessons(student).filter(l=>l.isUsed).length,\" / \",getLessons(student).length]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",sx:{bgcolor:seventiesColors[2],color:'#fff8e1',fontWeight:900,borderRadius:3,boxShadow:'0 2px 8px #2228',letterSpacing:2,fontFamily:'Oswald, Impact, Arial, sans-serif',mt:1,'&:hover':{bgcolor:seventiesColors[4],color:seventiesColors[1]}},onClick:()=>navigate(`/student/${student._id}`),children:\"VEDI DETTAGLI\"})]})},student._id))})]});}export default StudentArchive;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Box","Typography","Button","Grid","CircularProgress","PersonIcon","axios","jsx","_jsx","jsxs","_jsxs","seventiesColors","StudentArchive","students","setStudents","loading","setLoading","navigate","get","headers","Authorization","localStorage","getItem","then","res","data","finally","getLessons","student","tesserini","Array","isArray","length","lessons","sx","minHeight","bgcolor","p","children","variant","align","fontFamily","color","mb","letterSpacing","textShadow","display","justifyContent","mt","container","spacing","map","idx","item","xs","sm","md","borderRadius","boxShadow","flexDirection","alignItems","border","position","transition","transform","fontSize","fontWeight","textTransform","name","telefono","filter","l","isUsed","onClick","_id"],"sources":["/Users/wilsonbasetta/Wil cursor1/tesserino-virtuale/client/src/pages/StudentArchive.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Typography, Button, Grid, CircularProgress } from '@mui/material';\nimport PersonIcon from '@mui/icons-material/Person';\nimport axios from 'axios';\n\nconst seventiesColors = [\n  '#ff9800', // arancione\n  '#ffb300', // giallo caldo\n  '#795548', // marrone\n  '#fff8e1', // crema\n  '#d84315', // rosso mattone\n];\n\nfunction StudentArchive() {\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios.get('http://192.168.1.8:5050/api/students', {\n      headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n    })\n      .then(res => setStudents(res.data))\n      .finally(() => setLoading(false));\n  }, []);\n\n  const getLessons = (student) =>\n    student && student.tesserini && Array.isArray(student.tesserini) && student.tesserini.length > 0 && Array.isArray(student.tesserini[student.tesserini.length - 1].lessons)\n      ? student.tesserini[student.tesserini.length - 1].lessons\n      : [];\n\n  return (\n    <Box sx={{\n      minHeight: '100vh',\n      bgcolor: seventiesColors[3],\n      p: 4,\n    }}>\n      <Typography variant=\"h3\" align=\"center\" sx={{\n        fontFamily: 'Impact, Oswald, Arial, sans-serif',\n        color: seventiesColors[0],\n        mb: 4,\n        letterSpacing: 2,\n        textShadow: '0 2px 8px #79554888',\n      }}>\n        Archivio Studenti\n      </Typography>\n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 8 }}>\n          <CircularProgress color=\"warning\" />\n        </Box>\n      ) : (\n        <Grid container spacing={4} justifyContent=\"center\">\n          {students.map((student, idx) => (\n            <Grid item xs={12} sm={6} md={4} key={student._id}>\n              <Box sx={{\n                bgcolor: seventiesColors[idx % seventiesColors.length],\n                borderRadius: 6,\n                boxShadow: '0 8px 32px #79554855',\n                p: 3,\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                border: '4px solid #fff8e1',\n                minHeight: 220,\n                position: 'relative',\n                transition: 'transform 0.2s',\n                '&:hover': {\n                  transform: 'scale(1.04) rotate(-2deg)',\n                  boxShadow: '0 16px 48px #d8431555',\n                },\n              }}>\n                <PersonIcon sx={{ fontSize: 48, color: '#fff8e1', mb: 1, textShadow: '0 2px 8px #d8431588' }} />\n                <Typography variant=\"h5\" sx={{\n                  fontFamily: 'Oswald, Impact, Arial, sans-serif',\n                  fontWeight: 900,\n                  color: '#fff8e1',\n                  textShadow: '0 2px 8px #222b',\n                  mb: 1,\n                  letterSpacing: 2,\n                  textTransform: 'uppercase',\n                }}>\n                  {student.name}\n                </Typography>\n                <Typography variant=\"body1\" sx={{ color: seventiesColors[3], mb: 1, fontWeight: 700, fontFamily: 'monospace' }}>\n                  {student.telefono}\n                </Typography>\n                <Typography variant=\"body2\" sx={{ color: '#fff8e1', mb: 2, fontWeight: 700 }}>\n                  Lezioni effettuate: {getLessons(student).filter(l => l.isUsed).length} / {getLessons(student).length}\n                </Typography>\n                <Button\n                  variant=\"contained\"\n                  sx={{\n                    bgcolor: seventiesColors[2],\n                    color: '#fff8e1',\n                    fontWeight: 900,\n                    borderRadius: 3,\n                    boxShadow: '0 2px 8px #2228',\n                    letterSpacing: 2,\n                    fontFamily: 'Oswald, Impact, Arial, sans-serif',\n                    mt: 1,\n                    '&:hover': {\n                      bgcolor: seventiesColors[4],\n                      color: seventiesColors[1],\n                    },\n                  }}\n                  onClick={() => navigate(`/student/${student._id}`)}\n                >\n                  VEDI DETTAGLI\n                </Button>\n              </Box>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </Box>\n  );\n}\n\nexport default StudentArchive; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,GAAG,CAAEC,UAAU,CAAEC,MAAM,CAAEC,IAAI,CAAEC,gBAAgB,KAAQ,eAAe,CAC/E,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAG,CACtB,SAAS,CAAE;AACX,SAAS,CAAE;AACX,SAAS,CAAE;AACX,SAAS,CAAE;AACX,SAAW;AAAA,CACZ,CAED,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAmB,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACdS,KAAK,CAACY,GAAG,CAAC,sCAAsC,CAAE,CAChDC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAG,CACtE,CAAC,CAAC,CACCC,IAAI,CAACC,GAAG,EAAIV,WAAW,CAACU,GAAG,CAACC,IAAI,CAAC,CAAC,CAClCC,OAAO,CAAC,IAAMV,UAAU,CAAC,KAAK,CAAC,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAW,UAAU,CAAIC,OAAO,EACzBA,OAAO,EAAIA,OAAO,CAACC,SAAS,EAAIC,KAAK,CAACC,OAAO,CAACH,OAAO,CAACC,SAAS,CAAC,EAAID,OAAO,CAACC,SAAS,CAACG,MAAM,CAAG,CAAC,EAAIF,KAAK,CAACC,OAAO,CAACH,OAAO,CAACC,SAAS,CAACD,OAAO,CAACC,SAAS,CAACG,MAAM,CAAG,CAAC,CAAC,CAACC,OAAO,CAAC,CACtKL,OAAO,CAACC,SAAS,CAACD,OAAO,CAACC,SAAS,CAACG,MAAM,CAAG,CAAC,CAAC,CAACC,OAAO,CACvD,EAAE,CAER,mBACEvB,KAAA,CAACV,GAAG,EAACkC,EAAE,CAAE,CACPC,SAAS,CAAE,OAAO,CAClBC,OAAO,CAAEzB,eAAe,CAAC,CAAC,CAAC,CAC3B0B,CAAC,CAAE,CACL,CAAE,CAAAC,QAAA,eACA9B,IAAA,CAACP,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC,QAAQ,CAACN,EAAE,CAAE,CAC1CO,UAAU,CAAE,mCAAmC,CAC/CC,KAAK,CAAE/B,eAAe,CAAC,CAAC,CAAC,CACzBgC,EAAE,CAAE,CAAC,CACLC,aAAa,CAAE,CAAC,CAChBC,UAAU,CAAE,qBACd,CAAE,CAAAP,QAAA,CAAC,mBAEH,CAAY,CAAC,CACZvB,OAAO,cACNP,IAAA,CAACR,GAAG,EAACkC,EAAE,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAV,QAAA,cAC5D9B,IAAA,CAACJ,gBAAgB,EAACsC,KAAK,CAAC,SAAS,CAAE,CAAC,CACjC,CAAC,cAENlC,IAAA,CAACL,IAAI,EAAC8C,SAAS,MAACC,OAAO,CAAE,CAAE,CAACH,cAAc,CAAC,QAAQ,CAAAT,QAAA,CAChDzB,QAAQ,CAACsC,GAAG,CAAC,CAACvB,OAAO,CAAEwB,GAAG,gBACzB5C,IAAA,CAACL,IAAI,EAACkD,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAlB,QAAA,cAC9B5B,KAAA,CAACV,GAAG,EAACkC,EAAE,CAAE,CACPE,OAAO,CAAEzB,eAAe,CAACyC,GAAG,CAAGzC,eAAe,CAACqB,MAAM,CAAC,CACtDyB,YAAY,CAAE,CAAC,CACfC,SAAS,CAAE,sBAAsB,CACjCrB,CAAC,CAAE,CAAC,CACJS,OAAO,CAAE,MAAM,CACfa,aAAa,CAAE,QAAQ,CACvBC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,mBAAmB,CAC3B1B,SAAS,CAAE,GAAG,CACd2B,QAAQ,CAAE,UAAU,CACpBC,UAAU,CAAE,gBAAgB,CAC5B,SAAS,CAAE,CACTC,SAAS,CAAE,2BAA2B,CACtCN,SAAS,CAAE,uBACb,CACF,CAAE,CAAApB,QAAA,eACA9B,IAAA,CAACH,UAAU,EAAC6B,EAAE,CAAE,CAAE+B,QAAQ,CAAE,EAAE,CAAEvB,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,CAAC,CAAEE,UAAU,CAAE,qBAAsB,CAAE,CAAE,CAAC,cAChGrC,IAAA,CAACP,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAC3BO,UAAU,CAAE,mCAAmC,CAC/CyB,UAAU,CAAE,GAAG,CACfxB,KAAK,CAAE,SAAS,CAChBG,UAAU,CAAE,iBAAiB,CAC7BF,EAAE,CAAE,CAAC,CACLC,aAAa,CAAE,CAAC,CAChBuB,aAAa,CAAE,WACjB,CAAE,CAAA7B,QAAA,CACCV,OAAO,CAACwC,IAAI,CACH,CAAC,cACb5D,IAAA,CAACP,UAAU,EAACsC,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEQ,KAAK,CAAE/B,eAAe,CAAC,CAAC,CAAC,CAAEgC,EAAE,CAAE,CAAC,CAAEuB,UAAU,CAAE,GAAG,CAAEzB,UAAU,CAAE,WAAY,CAAE,CAAAH,QAAA,CAC5GV,OAAO,CAACyC,QAAQ,CACP,CAAC,cACb3D,KAAA,CAACT,UAAU,EAACsC,OAAO,CAAC,OAAO,CAACL,EAAE,CAAE,CAAEQ,KAAK,CAAE,SAAS,CAAEC,EAAE,CAAE,CAAC,CAAEuB,UAAU,CAAE,GAAI,CAAE,CAAA5B,QAAA,EAAC,sBACxD,CAACX,UAAU,CAACC,OAAO,CAAC,CAAC0C,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACC,MAAM,CAAC,CAACxC,MAAM,CAAC,KAAG,CAACL,UAAU,CAACC,OAAO,CAAC,CAACI,MAAM,EAC1F,CAAC,cACbxB,IAAA,CAACN,MAAM,EACLqC,OAAO,CAAC,WAAW,CACnBL,EAAE,CAAE,CACFE,OAAO,CAAEzB,eAAe,CAAC,CAAC,CAAC,CAC3B+B,KAAK,CAAE,SAAS,CAChBwB,UAAU,CAAE,GAAG,CACfT,YAAY,CAAE,CAAC,CACfC,SAAS,CAAE,iBAAiB,CAC5Bd,aAAa,CAAE,CAAC,CAChBH,UAAU,CAAE,mCAAmC,CAC/CO,EAAE,CAAE,CAAC,CACL,SAAS,CAAE,CACTZ,OAAO,CAAEzB,eAAe,CAAC,CAAC,CAAC,CAC3B+B,KAAK,CAAE/B,eAAe,CAAC,CAAC,CAC1B,CACF,CAAE,CACF8D,OAAO,CAAEA,CAAA,GAAMxD,QAAQ,CAAC,YAAYW,OAAO,CAAC8C,GAAG,EAAE,CAAE,CAAApC,QAAA,CACpD,eAED,CAAQ,CAAC,EACN,CAAC,EAxD8BV,OAAO,CAAC8C,GAyDxC,CACP,CAAC,CACE,CACP,EACE,CAAC,CAEV,CAEA,cAAe,CAAA9D,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}