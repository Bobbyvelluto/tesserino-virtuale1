{"ast":null,"code":"var _jsxFileName = \"/Users/wilsonbasetta/Wil cursor1/tesserino-virtuale/client/src/pages/StudentCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Paper, Typography, Grid, Card, CardContent, Button, Box } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentCard() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [student, setStudent] = useState(null);\n  useEffect(() => {\n    fetchStudent();\n  }, [id]);\n  const fetchStudent = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/students/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setStudent(response.data);\n    } catch (error) {\n      console.error('Errore nel caricamento dello studente:', error);\n    }\n  };\n  const handleLessonClick = async lessonIndex => {\n    try {\n      await axios.patch(`http://localhost:5000/api/students/${id}/lessons/${lessonIndex}`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      fetchStudent();\n    } catch (error) {\n      console.error('Errore nell\\'aggiornamento della lezione:', error);\n    }\n  };\n  if (!student) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Caricamento...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: [\"Tesserino di \", student.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: \"textSecondary\",\n        gutterBottom: true,\n        children: student.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        sx: {\n          mt: 2\n        },\n        children: student.lessons.map((lesson, index) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              bgcolor: lesson.isUsed ? '#e0e0e0' : 'white',\n              cursor: lesson.isUsed ? 'default' : 'pointer'\n            },\n            onClick: () => !lesson.isUsed && handleLessonClick(index),\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                align: \"center\",\n                children: [\"Lezione \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), lesson.isUsed ? /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                align: \"center\",\n                color: \"textSecondary\",\n                children: new Date(lesson.date).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                align: \"center\",\n                color: \"primary\",\n                children: \"Disponibile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3,\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: () => window.history.back(),\n          children: \"Torna alla Lista\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentCard, \"YGfZmbM2R8/+yNhdVS2BeuzuAO4=\", false, function () {\n  return [useParams];\n});\n_c = StudentCard;\nexport default StudentCard;\nvar _c;\n$RefreshReg$(_c, \"StudentCard\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Container","Paper","Typography","Grid","Card","CardContent","Button","Box","axios","jsxDEV","_jsxDEV","StudentCard","_s","id","student","setStudent","fetchStudent","response","get","headers","Authorization","localStorage","getItem","data","error","console","handleLessonClick","lessonIndex","patch","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mt","elevation","p","variant","gutterBottom","name","color","email","container","spacing","lessons","map","lesson","index","item","xs","sm","md","bgcolor","isUsed","cursor","onClick","align","Date","date","toLocaleDateString","display","justifyContent","window","history","back","_c","$RefreshReg$"],"sources":["/Users/wilsonbasetta/Wil cursor1/tesserino-virtuale/client/src/pages/StudentCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  Button,\n  Box,\n} from '@mui/material';\nimport axios from 'axios';\n\nfunction StudentCard() {\n  const { id } = useParams();\n  const [student, setStudent] = useState(null);\n\n  useEffect(() => {\n    fetchStudent();\n  }, [id]);\n\n  const fetchStudent = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/students/${id}`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      setStudent(response.data);\n    } catch (error) {\n      console.error('Errore nel caricamento dello studente:', error);\n    }\n  };\n\n  const handleLessonClick = async (lessonIndex) => {\n    try {\n      await axios.patch(\n        `http://localhost:5000/api/students/${id}/lessons/${lessonIndex}`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        }\n      );\n      fetchStudent();\n    } catch (error) {\n      console.error('Errore nell\\'aggiornamento della lezione:', error);\n    }\n  };\n\n  if (!student) {\n    return (\n      <Container>\n        <Typography>Caricamento...</Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n      <Paper elevation={3} sx={{ p: 3 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Tesserino di {student.name}\n        </Typography>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" gutterBottom>\n          {student.email}\n        </Typography>\n\n        <Grid container spacing={2} sx={{ mt: 2 }}>\n          {student.lessons.map((lesson, index) => (\n            <Grid item xs={12} sm={6} md={4} key={index}>\n              <Card\n                sx={{\n                  bgcolor: lesson.isUsed ? '#e0e0e0' : 'white',\n                  cursor: lesson.isUsed ? 'default' : 'pointer',\n                }}\n                onClick={() => !lesson.isUsed && handleLessonClick(index)}\n              >\n                <CardContent>\n                  <Typography variant=\"h6\" align=\"center\">\n                    Lezione {index + 1}\n                  </Typography>\n                  {lesson.isUsed ? (\n                    <Typography variant=\"body2\" align=\"center\" color=\"textSecondary\">\n                      {new Date(lesson.date).toLocaleDateString()}\n                    </Typography>\n                  ) : (\n                    <Typography variant=\"body2\" align=\"center\" color=\"primary\">\n                      Disponibile\n                    </Typography>\n                  )}\n                </CardContent>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n\n        <Box sx={{ mt: 3, display: 'flex', justifyContent: 'center' }}>\n          <Button\n            variant=\"outlined\"\n            onClick={() => window.history.back()}\n          >\n            Torna alla Lista\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default StudentCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}